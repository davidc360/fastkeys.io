(this["webpackJsonptyping-game"]=this["webpackJsonptyping-game"]||[]).push([[0],{24:function(e,t,a){e.exports={gameContainer:"Game_gameContainer__1YQxt"}},25:function(e,t,a){},27:function(e,t,a){e.exports=a(39)},3:function(e,t,a){e.exports={endGameCtn:"EndGame_endGameCtn__3vd3b",title:"EndGame_title__YdJcC",statCtn:"EndGame_statCtn__2KzUj",alignBtmCtn:"EndGame_alignBtmCtn__nSNxd",alignBtmText:"EndGame_alignBtmText__2lRiv",speedText:"EndGame_speedText__3Jl7O",speedUnit:"EndGame_speedUnit__M23t_",noMissed:"EndGame_noMissed__2pcll",accLabel:"EndGame_accLabel__1pwPl",adjLabel:"EndGame_adjLabel__2ugbn",accNum:"EndGame_accNum__3hm8_",percent:"EndGame_percent__1Y851",wrongKeysCtn:"EndGame_wrongKeysCtn__2jduQ",tableLabel:"EndGame_tableLabel__23zRc",accCtn:"EndGame_accCtn__2kbR7",tooltip:"EndGame_tooltip__6eTPP",tooltiptext:"EndGame_tooltiptext__3Fxc2"}},39:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(14),s=a.n(o),i=a(1),l=a(7),u=a(23),m=a(5),d=a(15),g={whole:0,partial:0},E={current:Object(m.a)({},g),last:Object(m.a)({},g)},_={typed:{},targeted:{}},p={nonForget:Object(m.a)({},_),forgetting:{},lastBuffer:Object(m.a)({},_)},f={activeRow:0,gameInProgress:!1,typedLetters:Object(m.a)({},{current:"",total:""}),accuracy:0,correctNums:Object(m.a)({},E),incorrectLetters:Object(m.a)({},p),speed:Object(m.a)({},{whole:0,partial:0,top:0}),timer:Object(m.a)({},{start:null,elapsed:0})},v=Object(d.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"STARTED_GAME":return e.timer.start=t.currentTime,void(e.gameInProgress=!0);case"ENDED_GAME":return void(e.gameInProgress=!1);case"ICR_ACTIVE_ROW":return void(e.activeRow=(e.activeRow+1)%t.numRows);case"SET_CURRENT_TYPED":return void(e.typedLetters.current=t.letters);case"ADDED_TYPED_WORDS":return void(e.typedLetters.total+=e.typedLetters.current);case"UPDATED_ACCURACY":var a=e.typedLetters.total.length,n=0;for(var r in e.incorrectLetters.forgetting)n+=e.incorrectLetters.forgetting[r];return console.log(n,a),void(e.accuracy=(a-n)/a);case"SET_CORRECT_NUMS":var c=e.correctNums.last,o=c.whole,s=c.partial,i=t.nums,l=i.whole,u=i.partial;return e.correctNums.current.whole+=l-o,e.correctNums.current.partial+=u-s,void(e.correctNums.last=Object(m.a)({},t.nums));case"RESET_LAST_CORNUMS":return void(e.correctNums.last=Object(m.a)({},g));case"SET_INCORRECT_LETTERS":var d=t.obj,E=d.typed,_=d.targeted;for(var p in E){var f=e.incorrectLetters.nonForget.typed[p]||0,v=e.incorrectLetters.lastBuffer.typed[p]||0,h=E[p],b=f+Math.max(0,h-v);e.incorrectLetters.nonForget.typed[p]=b}for(var y in _){var w=e.incorrectLetters.nonForget.targeted[y]||0,O=e.incorrectLetters.lastBuffer.targeted[y]||0,j=e.incorrectLetters.forgetting[y]||0,N=_[y];e.incorrectLetters.nonForget.targeted[y]=w+Math.max(0,N-O),e.incorrectLetters.forgetting[y]=j+(N-O)}if(e.incorrectLetters.lastBuffer.targeted){var C=Object.keys(e.incorrectLetters.lastBuffer.targeted);C.forEach((function(t){_[t]||(e.incorrectLetters.forgetting[t]=0)}))}return void(e.incorrectLetters.lastBuffer=Object(m.a)({},t.obj));case"RESET_INC_BUFFER":return void(e.incorrectLetters.lastBuffer={});case"UPDATED_CORRECT_PARTIAL":return void(e.speed.partial=e.correctNums.current.partial/e.timer.elapsed*60);case"UPDATED_ELAPSED":return void(e.timer.elapsed=t.elapsed)}}),f),h=function(e){return{type:"SET_CURRENT_TYPED",letters:e}},b=function(e){return{type:"ADDED_TYPED_WORDS",currentLetters:e}},y=v,w="settings/SET_SHOW",O=Object(d.a)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case"settings/SET_TIME_MODE":return void(e.timeMode=t.timeMode);case"settings/SET_NUM_ROWS":return void(e.numRows=t.num);case w:return void(e.show=t.show)}}),{show:!1,timeMode:30,timeModes:[10,30,60,120,0],numRows:2}),j=function(e){return{type:w,show:e}},N=Object(l.combineReducers)({settings:O,game:y}),C=Object(l.createStore)(N,Object(u.composeWithDevTools)(Object(l.applyMiddleware)((function(e){return function(t){return function(a){var r=e.dispatch,c=!1,o=function(){c=!0,t(a)};switch(a.type){case"STARTED_GAME":n=setInterval((function(){var t=(Date.now()-a.currentTime)/1e3;r(function(e){return{type:"UPDATED_ELAPSED",elapsed:e}}(t)),r({type:"UPDATED_CORRECT_PARTIAL"}),t>=a.duration&&e.dispatch({type:"ENDED_GAME"})}),100);break;case"ENDED_GAME":r(b()),clearInterval(n);break;case"ICR_ACTIVE_ROW":o(),r(b()),r(h("")),r({type:"RESET_LAST_CORNUMS"});break;case"ADDED_TYPED_WORDS":o(),r({type:"RESET_INC_BUFFER"}),r({type:"UPDATED_ACCURACY"})}c||o()}}})))),R=a(24),T=a.n(R),S=a(26),D=a(11),L=a(6),A=a.n(L),k=["she","be","saw","together","its","carry","go","now","learn","country","open","water","light","live","car","before","letter","same","write","were","been","set","from","mountain","will","open","through","here","can","few","under","just","write","get","begin","day","the","it","move","now","like","he","sea","she","America","our","year","call","often","near","line","both","begin","left","below","need","into","turn","say","group","move","together","different","both","song","earth","her","mean","add","after","children","saw","made","paper","start","try","sometimes","line","not","its","through","well","call","being","sentence","does","might","still","said","are","every","might","important","without","end","girl","America","about","face","look","children","is","say","his","another","carry","look","along","young","being","state","almost","boy","who","Indian","hard","face","by","their","feet","add","said","first","man","very","never","were","give","get","it","cut","also","really","watch","sometimes","leave","some","give","there","spell","play","last","here","study","on","from","girl","never","small","would","quick","found","mile","turn","read","that","part","thought","will","below","too","many","because","too","left","show","let","men","many","air","sound","river","change","light","each","day","much","put","far","Indian","small","world","have","turn","an","father","three","about","would","have","only","again","long","country","again","find","learn","took","very","people","large","was","is","it's","look","be","above","away","quick","other","often","number","us","number","night","enough","as","be","through","show","and","story","sea","is","so","animal","work","second","before","old","take","talk","oil","been","how","feet","word","long","sentence","one","come","your","high","quickly","almost","not","now","back","him","stop","above","page","the","any","other","other","air","thing","would","how","miss","hand","mean","them","some","by","life","began","came","us","try","year","part","even","hear","mother","school","run","next","example","answer","it","out","that","walk","use","say","oil","no","back","along","three","leave","does","home","an","could","tell","had","house","close","very","if","does","point","your","eat","thought","away","water","just","did","at","land","see","without","young","he","at","went","took","always","with","need","later","way","cut","right","near","where","feet","were","start","small","miss","study","did","another","down","day"],M={};function I(e){return e?e[Math.floor(Math.random()*e.length)]:void 0}function x(e){var t=e.num,a=e.space,n=e.length;t=t||1;for(var r=[],c=0;c<t;c++){var o=I(n?M[n]:k);r.push(o)}return a&&(r=r.map((function(e){return e+" "}))),r}function U(){var e=Object(i.c)((function(e){return e.settings.numRows})),t=Object(D.a)(Array(e)).map((function(e,t){return c.a.createElement(P,{key:t,row:t})}));return c.a.createElement("div",{className:A.a.wordsAreaContainer},t)}function P(e){var t=e.row,a=Object(i.b)(),n=Object(i.c)((function(e){return e.game.activeRow})),o=Object(i.c)((function(e){return e.game.gameInProgress})),s=t===n,l=Object(r.useState)([]),u=Object(S.a)(l,2),m=u[0],d=u[1];Object(r.useEffect)((function(e){o||(p(),d(x({num:30,space:!0})))}),[o]);var g=Object(i.c)((function(e){return e.settings.timeMode})),E=Object(i.c)((function(e){return e.game.typedLetters.current})),_=function(e){return a(h(e))},p=function(){return _("")};function f(e){var t,n=function(){return t=E};if(1===e.key.length)n(),t+=e.key,o||(a(j(!1)),0!==g&&a({type:"STARTED_GAME",currentTime:Date.now(),duration:g}));else if(8===e.keyCode)if(n(),e.altKey){var r=0===v.current.letter?m[Math.max(0,v.current.word-1)].length:v.current.letter;t=t.slice(0,t.length-r)}else t=e.metaKey?"":t.slice(0,-1);void 0!==t&&_(t)}Object(r.useEffect)((function(e){return s&&window.addEventListener("keydown",f),function(){window.removeEventListener("keydown",f)}}));var v=Object(r.useRef)({word:0,letter:0}),b=Object(r.useRef)({whole:0,partial:0});Object(r.useEffect)((function(e){s&&a({type:"SET_CORRECT_NUMS",nums:b.current})}),[E]);var y,w=Object(i.c)((function(e){return e.settings.numRows})),O=Object(r.useRef)(),N=0,C={whole:0,partial:0},R={typed:{},targeted:{}},T=Object(r.useRef)({typed:{},targeted:{}});return y=s?m.map((function(e,t){var a=!1,n=c.a.createElement(G,{key:t},Object(D.a)(e).map((function(n,r){var o=N===E.length,i=n===E[N],l=!!E[N],u=c.a.createElement(W,{text:n,key:r,isCorrect:l?i:void 0,focus:!!s&&o,ref:o?O:null});if(N++,o&&(v.current={word:t,letter:r}),i)C.partial+=1/e.length;else if(a=!0,E[N-1]){var m=R.targeted[n]||0;R.targeted[n]=m+1;var d=E[N-1],g=R.typed[d]||0;R.typed[d]=g+1}return u})));return a||C.whole++,n})):m.map((function(e,t){return c.a.createElement(G,{key:t},Object(D.a)(e).map((function(e,t){return c.a.createElement(W,{text:e,key:t})})))})),b.current=C,T.current=R,Object(r.useEffect)((function(e){s&&a({type:"SET_INCORRECT_LETTERS",obj:T.current})})),Object(r.useEffect)((function(e){var t,n,r;if(s){var c=null===(t=O.current)||void 0===t?void 0:t.parentNode,o=null===(n=O.current)||void 0===n||null===(r=n.parentNode)||void 0===r?void 0:r.previousSibling;o&&c.getBoundingClientRect().top!==o.getBoundingClientRect().top&&(window.removeEventListener("keydown",f),a(function(e){return{type:"ICR_ACTIVE_ROW",numRows:e}}(w)),d(x({num:30,space:!0})))}}),[E]),c.a.createElement("div",{className:A.a.wordsArea},y)}k.forEach((function(e){M[e.length]||(M[e.length]=[]),M[e.length].push(e)}));var G=Object(r.memo)((function(e){var t=e.children;return c.a.createElement("div",{className:A.a.wordWrapper},t)})),W=Object(r.memo)(Object(r.forwardRef)((function(e,t){var a=e.text,n=e.isCorrect,r=e.focus;return c.a.createElement("div",{className:"".concat(A.a.letter,"\n          ").concat(" "===a?A.a.space:"","\n          ").concat(void 0===n?"":n?A.a.letterCorrect:A.a.letterIncorrect,"\n          ").concat(r?A.a.letterFocus:"","\n          "),ref:t},a)}))),B=a(9),F=a(10),Y=a(25),K=a.n(Y),V=function(e){e.className;return c.a.createElement(B.a,{icon:F.b,className:K.a.icon})},q=a(4),J=a.n(q);function Q(){return c.a.createElement("div",{className:J.a.settingsPane},c.a.createElement(H,null),c.a.createElement(X,{className:J.a.timeSettings}))}function H(){var e=Object(i.c)((function(e){return e.game.gameInProgress})),t=Object(i.b)(),a=Object(i.c)((function(e){return e.settings.numRows}));return c.a.createElement("div",{className:J.a.setting},c.a.createElement("input",{className:J.a.slider,type:"range",onChange:function(a){var n=Math.floor(a.target.value/10);e||t(function(e){return{type:"settings/SET_NUM_ROWS",num:e}}(n))},min:10,max:100,defaultValue:10*a}),c.a.createElement("div",{className:J.a.inputLabels},c.a.createElement("div",{className:J.a.numRowLabel},"Rows of words"),c.a.createElement("div",null,a)))}function X(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.game.gameInProgress})),a=Object(i.c)((function(e){return e.settings.timeMode})),n=Object(i.c)((function(e){return e.settings.timeModes})),o=n.indexOf(a);var s=Object(r.useCallback)((function(e){var t,a;return 0===e?t="infinity":e<60?(t="sec",a=e):e>=60&&(t="min",a="".concat(Math.floor(e/60)).concat(e%60?":"+("0"+e%60).slice(-2):"")),c.a.createElement("div",{className:J.a.timeNum},0===e?c.a.createElement(V,{className:J.a.infIcon}):a,c.a.createElement("div",{className:J.a.timeUnit},t))}),[]);return c.a.createElement("div",null,c.a.createElement("input",{onChange:function(a){t||e({type:"settings/SET_TIME_MODE",timeMode:n[a.target.value]})},type:"range",min:0,max:n.length-1,value:o,className:J.a.slider}),c.a.createElement("div",{className:J.a.inputLabels},n.map((function(e,t){return c.a.createElement("div",{className:"".concat(J.a.time,"\n                ").concat(t===o?"":J.a.nonActive),key:t},s(e))}))))}var z=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.settings.show}));return c.a.createElement("div",{className:J.a.settingsContainer},c.a.createElement(B.a,{icon:F.a,onClick:function(){return e(j(!t))},className:J.a.gearIcon}),t?c.a.createElement(Q,null):null)},Z=a(8),$=a.n(Z);function ee(){var e=Object(i.c)((function(e){return e.game.speed.partial}));return c.a.createElement("div",{className:$.a.statsCtn},c.a.createElement(te,{speed:Math.round(e),type:"current"}),c.a.createElement(ae,null))}function te(e){var t=e.speed,a=e.type;return c.a.createElement("div",{className:$.a.speedInd},c.a.createElement("div",null,c.a.createElement("div",{className:$.a.speedText},t)),c.a.createElement("div",{className:$.a.speedUnit},c.a.createElement("div",null,a),c.a.createElement("div",null,"WPM")))}function ae(){Object(i.b)();var e=Object(i.c)((function(e){return e.settings.timeMode})),t=Object(i.c)((function(e){return e.game.timer.elapsed})),a=e-t;return c.a.createElement("div",{className:$.a.timerWrapper},c.a.createElement("div",{className:$.a.timer},0===e?c.a.createElement(c.a.Fragment,null,"00: ",c.a.createElement(V,null)):ne(t>0?a:e)))}function ne(e){return new Date(1e3*e).toISOString().substr(11,8).slice(-5)}var re=a(3),ce=a.n(re),oe=function(){return c.a.createElement("div",{className:ce.a.endGameCtn},c.a.createElement("div",{className:ce.a.title},"Stats"),c.a.createElement(se,null),c.a.createElement(ie,null))};function se(){var e=Object(i.c)((function(e){return e.game.speed.partial})),t=Object(i.c)((function(e){return e.game.accuracy}));return c.a.createElement("div",{className:ce.a.statCtn},c.a.createElement("div",{className:"".concat(ce.a.speedCtn," ").concat(ce.a.alignBtmCtn)},c.a.createElement("span",{className:"".concat(ce.a.speedText," ").concat(ce.a.alignBtmText)},Math.floor(e)),c.a.createElement("span",{className:ce.a.speedUnit},"WPM")),c.a.createElement("div",{className:"".concat(ce.a.alignBtmCtn," ").concat(ce.a.accCtn)},c.a.createElement("div",{className:"".concat(ce.a.tooltip," ").concat(ce.a.adjLabel)},"(adjusted) ",c.a.createElement(B.a,{icon:F.c}),c.a.createElement("div",{className:ce.a.tooltiptext},"If you missed a key and corrected it, it shall not count against you.")),c.a.createElement("div",{className:"".concat(ce.a.accLabel)},"Accuracy"),c.a.createElement("div",{className:"".concat(ce.a.accNum)},Math.floor(100*t),c.a.createElement("span",{className:ce.a.percent},"%"))))}function ie(){var e=Object(i.c)((function(e){return e.game.incorrectLetters.nonForget.targeted})),t=Object(i.c)((function(e){return e.game.incorrectLetters.nonForget.typed}));return c.a.createElement("div",{className:ce.a.ctn},0===Object.keys(e).length?c.a.createElement("div",{className:ce.a.noMissed},"You did not miss-type a single key!"):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:ce.a.wrongKeysCtn},c.a.createElement("div",{className:ce.a.tableLabel},"Top characters you typed wrong"),c.a.createElement(le,{obj:e})),c.a.createElement("div",{className:ce.a.wrongKeysCtn},c.a.createElement("div",{className:ce.a.tableLabel},"Keys you miss-clicked"),c.a.createElement(le,{obj:t}))))}function le(e){var t,a=e.obj,n=[];if(a){t=Object.keys(a).sort((function(e,t){return a[t]-a[e]}));for(var r=0;r<3;r++){var o=t[r],s=a[o];" "===o&&(o="space"),s>0&&n.push(c.a.createElement(ue,{array:[o,s>5?s:"<5"],key:r}))}}return c.a.createElement("table",{className:ce.a.table},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",null,"key"),c.a.createElement("td",null,"#"))),c.a.createElement("tbody",null,n))}function ue(e){var t=e.array.map((function(e,t){return c.a.createElement("td",{key:t},e)}));return c.a.createElement("tr",null,t)}function me(){var e=Object(i.c)((function(e){return e.game.gameInProgress})),t=null!==Object(i.c)((function(e){return e.game.timer.start}));return c.a.createElement("div",{className:T.a.gameContainer},c.a.createElement(z,null),!t||e?c.a.createElement(c.a.Fragment,null,c.a.createElement(U,null),c.a.createElement(ee,null)):c.a.createElement(oe,null))}var de=function(){return c.a.createElement(i.a,{store:C},c.a.createElement(me,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},4:function(e,t,a){e.exports={settingsContainer:"Settings_settingsContainer__1trfE",gearIcon:"Settings_gearIcon__2pZYA",settingsPane:"Settings_settingsPane__2DYnl",setting:"Settings_setting__2pUd6",numRowLabel:"Settings_numRowLabel__ki0sd",inputLabels:"Settings_inputLabels__3UIXH",timeNum:"Settings_timeNum__2uOGw",infIcon:"Settings_infIcon__oawg8",timeUnit:"Settings_timeUnit__2Kxw-",nonActive:"Settings_nonActive__2qYRX",slider:"Settings_slider__1hNSC"}},6:function(e,t,a){e.exports={wordsAreaContainer:"WordDisplay_wordsAreaContainer__3Gml0",wordsArea:"WordDisplay_wordsArea__UmGKS",wordWrapper:"WordDisplay_wordWrapper__2ithC",letter:"WordDisplay_letter__2xECK",letterFocus:"WordDisplay_letterFocus__ueSEZ",letterCorrect:"WordDisplay_letterCorrect__ao7E3",growUp:"WordDisplay_growUp__3SXeV",letterIncorrect:"WordDisplay_letterIncorrect__Em8Ep",space:"WordDisplay_space__11U-Q"}},8:function(e,t,a){e.exports={statsCtn:"Stats_statsCtn__3OKAs",speedInd:"Stats_speedInd__2iNiH",speedText:"Stats_speedText__1jV10",speedUnit:"Stats_speedUnit__3UIOo",timerWrapper:"Stats_timerWrapper__q3xy6",timer:"Stats_timer__2QPlt"}}},[[27,1,2]]]);
//# sourceMappingURL=main.2d071131.chunk.js.map